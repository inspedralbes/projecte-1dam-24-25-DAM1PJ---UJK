<%- include('partials/header', { title: 'Registrar-se' }) %>

<div class="container py-5" style="max-width: 500px;">
  <h1 class="mb-4 text-center">Registrar-se</h1>

  <% if (typeof error !== 'undefined' && error) { %>
    <div class="alert alert-danger" role="alert">
      <%= error %>
    </div>
  <% } %>
  <% if (typeof success !== 'undefined' && success) { %>
    <div class="alert alert-success" role="alert">
      <%= success %> <a href="/login">Inicia sessió aquí</a>.
    </div>
  <% } %>

  <form action="/register" method="POST">
    <div class="mb-3">
      <label for="nom" class="form-label">Nom d'usuari (Login)</label>
      <input type="text" class="form-control" id="nom" name="nom" required>
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">Contrasenya</label>
      <input type="password" class="form-control" id="password" name="password" required>
    </div>
    <div class="mb-3">
      <label for="confirmPassword" class="form-label">Confirmar Contrasenya</label>
      <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
    </div>
    <div class="mb-3">
      <label for="id_departament" class="form-label">ID Departament</label>
      <!-- En una app real, esto sería un <select> poblado desde la BD -->
      <input type="number" class="form-control" id="id_departament" name="id_departament" required placeholder="Ex: 1">
    </div>
    <div class="mb-3">
      <label for="rol" class="form-label">Rol</label>
      <select class="form-select" id="rol" name="rol" required>
        <option value="" disabled selected>Selecciona un rol</option>
        <option value="Alumne/a">Alumne/a</option>
        <option value="Professor/a">Professor/a</option>
      </select>
    </div>
    <button type="submit" class="btn btn-success w-100">Registrar-se</button>
  </form>
  <p class="mt-3 text-center">
    Ja tens un compte? <a href="/">Inicia sessió aquí</a>
  </p>
</div>

<%- include('partials/footer') %>