<!-- src/views/index.ejs -->
<%- include('partials/header', { title: 'Inici' }) %>

<div class="position-relative mb-5 d-flex justify-content-center align-items-center" style="min-height: 420px;">
  <h1 class="position-relative text-white fw-bold px-5 text-center"
    style="z-index: 2; font-size: 3.2rem; text-shadow: 2px 2px 8px rgba(0,0,0,0.7);">Benvingut al Sistema de Gestió d'Incidències</h1>
  <img src="/Pedralbes.jpg" alt="Fondo" class="position-absolute top-0 start-0 w-100 h-100"
    style="object-fit: cover; opacity: 0.75; z-index: 1; pointer-events: none; border-radius: 0.25rem;"/>
</div>


  <p class="lead">Aquí podràs veure el nostre projecte, que consisteix en la creació d’un sistema de gestió d’incidències per al nostre institut. L’usuari podrà crear una incidència i consultar-ne el llistat. Si es tracta d’un tècnic o un administrador, també podrà registrar actuacions i assignar incidències a tècnics. A més, es podrà consultar un llistat de les actuacions realitzades i, finalment, accedir a un apartat d’estadístiques.</p>

  <div class="mt-4">
    <p class="lead">Des d'aquí pots:</p>
    <div class="d-grid gap-3 d-md-block">
      <a href="/incidencies/new" class="btn btn-primary me-2 mb-2">Crear incidència (Usuari)</a>
      <a href="/incidencies" class="btn btn-warning me-2 mb-2">Llistat d'incidències (Usuari)</a>
      <a href="/actuacions/create" class="btn btn-success me-2 mb-2">Crear actuació (Tècnic)</a> 
      <a href="/actuacions" class="btn btn-info me-2 mb-2">Llistat d'actuacions (Tècnic/Admin)</a> 
      
    </div>
  </div>

  <% if (typeof user !== 'undefined' && user && user.rol === 'administrador') { %>
    <div class="admin-actions mt-4">
        <h5 class="mb-3">Accions d'Administrador:</h5>
        <div class="list-group">
          <a href="/admin/logs" class="list-group-item list-group-item-action">Veure Logs d'Accés</a>
          <a href="/admin/logs/stats" class="list-group-item list-group-item-action">Veure Estadístiques de Logs</a>
        </div>
    </div>
  <% } %>

  <div class="alert alert-info mt-5"> 
    Si tens qualsevol dubte, posa't en contacte amb l'equip tècnic.
  </div>
</div>

<%- include('partials/footer') %>